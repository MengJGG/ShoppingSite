<!-- 购物网站首页 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="main_css.css">
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <div class="sky_banner"></div>
    <!-- 顶部导航栏 -->
    <div class="top_container">
        <span class="main_logo">LUXEHARMONY</span>
        <!-- 导航栏 -->
        <div class="top_guide_nav" id="top_drop_menu_container">
            <div class="header">首页
            </div>
            <div class="guitar">吉他
            </div>
            <div class="audio">音响
            </div>
            <div class="food">美食
            </div>
            <div class="racket">羽毛球拍
            </div>
        </div>
        <!-- 下拉菜单 -->
        <div class="top_drop_menu" id="top_drop_menu_container">
            <div class="drop_content">
                <br>
                <span id="menu_title" style="color: #333333;">热门品牌</span>
                <a>尤尼克斯Yonex</a> 
                <a>李宁LI-NING</a>
                <a>威克多VICTORY</a>
                <br>
            </div>
            <div class="img_container">
                <br>
                <span id="menu_title" style="color: #333333;">热门品牌</span>
                <img src="../Resource/Img/food/11.jpeg" alt="">
            </div>
        </div>
        <script>
            //const guitar = document.querySelector('.top_guide_nav .guitar');
            //const audio = document.querySelector('.top_guide_nav .audio');
            //const food = document.querySelector('.top_guide_nav .food');
            const racket = document.querySelector('.top_guide_nav .racket');
            const topDropMenu = document.querySelector('.top_drop_menu');
            const topDropMenuContainer = document.querySelector('#top_drop_menu_container');
            topDropMenuContainer.addEventListener('mouseenter', function() {
                topDropMenu.style.animation = 'fade-in 0.5s ease 1 forwards';
                topDropMenu.style.display = 'flex';
            });
            topDropMenu.addEventListener('mouseleave', function() {
                topDropMenu.style.animation = 'fade-out 0.5s ease 1 forwards';
            });

        </script>
        <!-- 登录注册 -->
        <div class="login_container">
            <img src="../Resource/Img/system/default_user_head.png" alt="">
            <div class="login_mes_container">
                <span style="cursor: default;">未登录</span>
                <section>
                    <a href="#">登录</a>
                    <span style="cursor: default;">|</span>
                    <a href="#">注册</a>
                </section>
                <script>
                    // TODO: 由于未登录状态，暂时不显示登录注册按钮
                </script>
            </div>
        </div>
    </div>
    <!-- 主要内容 -->
    <div class="main_container">
        <!-- 轮播图 -->
        <div class="carousel-container">
            <div class="carousel-track">
                <div class="carousel-item" style="background: #FF6B6B;">1</div>
                <div class="carousel-item" style="background: #4ECDC4;">2</div>
                <div class="carousel-item" style="background: #45B7D1;">3</div>
                <div class="carousel-item" style="background: #96CEB4;">4</div>
            </div>
            
            <button class="carousel-button button-prev">❮</button>
            <button class="carousel-button button-next">❯</button>
            
            <div class="carousel-indicators"></div>
        </div>
        <script>
            class Carousel {
                constructor(container) {
                    this.container = container;
                    this.track = container.querySelector('.carousel-track');
                    this.items = Array.from(container.querySelectorAll('.carousel-item'));
                    this.currentIndex = 0;
                    this.isAnimating = false;
                    this.init();  // TODO: 这里需要传入是由哪个主题的页面，从而决定播放什么
                }
    
                init() {
                    // 创建指示器
                    this.createIndicators();
        
                    // 添加事件监听
                    container.querySelector('.button-prev').addEventListener('click', () => this.slideToPrev());
                    container.querySelector('.button-next').addEventListener('click', () => this.slideToNext());

                    // 自动播放
                    this.startAutoPlay();
                }
    
                createIndicators() {
                    const indicatorsContainer = this.container.querySelector('.carousel-indicators');
                    this.items.forEach((_, index) => {
                        const indicator = document.createElement('div');
                        indicator.className = `indicator ${index === 0 ? 'active' : ''}`;
                        indicator.addEventListener('click', () => this.slideTo(index));
                        indicatorsContainer.appendChild(indicator);
                    });
                }
    
                updateIndicators() {
                    const indicators = this.container.querySelectorAll('.indicator');
                    indicators.forEach((indicator, index) => {
                        indicator.classList.toggle('active', index === this.currentIndex);
                    });
                }
    
                slideTo(index) {
                    if (this.isAnimating) return;
                    
                    this.currentIndex = (index + this.items.length) % this.items.length;
                    this.track.style.transform = `translateX(-${this.currentIndex * 100}%)`;
                    this.updateIndicators();
                    
                    this.isAnimating = true;
                    setTimeout(() => {
                        this.isAnimating = false;
                    }, 500);
                }
    
                slideToPrev() {
                    this.slideTo(this.currentIndex - 1);
                }
    
                slideToNext() {
                    this.slideTo(this.currentIndex + 1);
                }

                startAutoPlay(interval = 6000) {
                    setInterval(() => {
                        if (!document.hidden) {
                            this.slideToNext();
                        }
                    }, interval);
                }
            }
            // 初始化轮播
            const container = document.querySelector('.carousel-container');
            new Carousel(container);
        </script>
        <div></div>
        <!-- 推荐商品 -->
        <div class="recommend_container">
            <span class="recommend_title">新品推荐</span>
            <span class="change_btn">换一批</span>
            <br>
            <div class="recommend_items">
                <div class="item" id="item_1">
                    <div class="msg">
                        <span>新品上新</span>
                        <img src="#" alt="购入">
                    </div>
                    <img src="../Resource/Img/food/20.jpeg" alt="" class="good_img">
                    <br>
                    <br>
                    <br>
                    <div class="info">
                        <span class="name">商品名称</span>
                        <span class="price">￥199</span>
                    </div>
                </div>
                <div class="item" id="item_2">
                    <div class="msg">
                        <span>新品上新</span>
                        <img src="#" alt="购入">
                    </div>
                    <img src="../Resource/Img/food/21.jpeg" alt="" class="good_img">
                    <br>
                    <br>
                    <br>
                    <div class="info">
                        <span class="name">商品名称</span>
                        <span class="price">￥199</span>
                    </div>
                </div>
                <div class="item" id="item_3">
                    <div class="msg">
                        <span>新品上新</span>
                        <img src="#" alt="购入">
                    </div>
                    <img src="../Resource/Img/food/22.jpeg" alt="" class="good_img">
                    <br>
                    <br>
                    <br>
                    <div class="info">
                        <span class="name">商品名称</span>
                        <span class="price">￥199</span>
                    </div>
                </div>
                <div class="item" id="item_4">
                    <div class="msg">
                        <span>新品上新</span>
                        <img src="#" alt="购入">
                    </div>
                    <img src="../Resource/Img/food/23.jpg" alt="" class="good_img">
                    <br>
                    <br>
                    <br>
                    <div class="info">
                        <span class="name">商品名称</span>
                        <span class="price">￥199</span>
                    </div>
                </div>
            </div>
            <script>
                // TODO: 这里需要传入是由哪个主题的页面，从而决定推荐什么商品
            </script>
        </div>
        <!-- 主题商品 -->
         
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const topBar = document.querySelector('.top_container');
            const skyBar = document.querySelector('.sky_banner');
            const mainContainer = document.querySelector('.main_container');
            const guideMenu = document.querySelector('.top_drop_menu');
            const topBarHeight = skyBar.offsetHeight;
            console.log(topBarHeight);
            window.addEventListener('scroll', function() {
                const offset = window.pageYOffset || document.documentElement.scrollTop;
                console.log(offset);

                if (offset > topBarHeight) {
                    topBar.classList.add('sticky');
                    mainContainer.style.paddingTop = 5 + 'rem';
                    guideMenu.style.top = 5 + 'rem';
                } else {
                    topBar.classList.remove('sticky');
                    mainContainer.style.paddingTop = 0;
                    guideMenu.style.top = 6.25 + 'rem';
                }
            });
        });
    </script>
</body>
</html>